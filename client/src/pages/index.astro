---
import { Profile } from "@interfaces/profile";
import Layout from "@layouts/ConnectedLayout.astro";

const pb = Astro.locals.pb;
const user = Astro.locals.pb.authStore.model;
const capitalizedName =
  user.username.charAt(0).toUpperCase() + user.username.slice(1);

const profiles = await pb.collection("profiles").getFullList<Profile>();
const articles = await pb.collection("articles").getFullList();
---

<Layout title="Généalogie d'Hébrail">
  <div class="bg-discreet-cream grid grid-cols-3 welcome_screen">
    <div
      class="col-span-2 text-right flex flex-col justify-center items-end gap-4"
    >
      <div class="flex flex-col">
        <h1 class="text-5xl font-serif font-medium">
          Bonjour <span class="text-royal-blue">{capitalizedName}</span> !
        </h1>
        <div class="font-medium">Qu'allez vous découvrir aujourd'hui ?</div>
      </div>
      <div class="flex gap-4 w-1/2 py-3 px-6 rounded-full bg-white">
        <img src="/icons/search.svg" alt="Rechercher" class="w-6 h-6" />
        <input
          type="search"
          placeholder="Rechercher une personne ou un article"
          class="grow focus:outline-none"
        />
      </div>
    </div>
    <div class="col-span-1 overflow-hidden relative">
      <img src="/images/bigBlason.png" alt="Blason d'Hébrail" class="h-screen absolute -right-10 -top-16" />
    </div>
  </div>
</Layout>
